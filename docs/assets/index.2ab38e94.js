var Y=Object.defineProperty;var U=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var B=(e,s,d)=>s in e?Y(e,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[s]=d,K=(e,s)=>{for(var d in s||(s={}))H.call(s,d)&&B(e,d,s[d]);if(U)for(var d of U(s))Q.call(s,d)&&B(e,d,s[d]);return e};import{r as Z,A as x,d as $,u as ee,c as n,a as t,b as F,n as te,e as c,o as a,p as se,f as oe,t as p,F as y,g as L,h as N,i as _,w,j as A,k as m,v as O,l as k,m as R,q as S,s as f,x as V,y as P,z as ne,B as ae,C as le}from"./vendor.0492e8af.js";const re=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))h(u);new MutationObserver(u=>{for(const g of u)if(g.type==="childList")for(const l of g.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&h(l)}).observe(document,{childList:!0,subtree:!0});function d(u){const g={};return u.integrity&&(g.integrity=u.integrity),u.referrerpolicy&&(g.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?g.credentials="include":u.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function h(u){if(u.ep)return;u.ep=!0;const g=d(u);fetch(u.href,g)}};re();const o=Z({terminal:[],connected:!1,connecting:!1,toolLoading:!1,currentApp:{},isAccount:!1,activeAccount:null,signingMode:"",algonaut:{},init:async function(e){this.connecting=!0,this.connected=!1;let s={BASE_SERVER:"https://testnet-algorand.api.purestake.io/ps2",LEDGER:e.ledger,PORT:"",API_TOKEN:{"X-API-Key":e.apiKey}};e.useCustomNode&&(s.BASE_SERVER=e.server,s.PORT=e.port),this.algonaut=new x(s),this.log("Connecting...");try{const d=await this.algonaut.checkStatus();d["last-round"]&&(this.success("Connected! Last round: "+d["last-round"]),this.connected=!0,localStorage.setItem("config",JSON.stringify(e)))}catch{this.error("Error connecting. Check config."),this.connected=!1}this.connecting=!1},loadApp:async function(e){this.toolLoading=!0;try{this.currentApp=await this.algonaut.getAppInfo(e),this.log("Loading app into contract tool...")}catch(s){console.log(s),this.error("Error loading app.")}this.toolLoading=!1},error:function(e){this.terminal.unshift({type:"error",message:e})},log:function(e){this.terminal.unshift({type:"normal",message:e})},success:function(e){this.terminal.unshift({type:"success",message:e})}});var v=(e,s)=>{const d=e.__vccOpts||e;for(const[h,u]of s)d[h]=u;return d};const de=$({setup(e,s){ee({keyEvent:"keydown",keyBinds:[{keyCode:"esc",success:function(){s.emit("close")}}]})},props:{show:Boolean,width:{type:String,default:"40%"}},methods:{close(e){this.$emit("close",e)}}}),ie={key:0,class:"modal-overlay"};function ce(e,s,d,h,u,g){return e.show?(a(),n("div",ie,[t("div",{class:"modal vertical-center",style:te({width:e.width})},[t("div",{class:"close-modal",onClick:s[0]||(s[0]=(...l)=>e.close&&e.close(...l))},"X"),F(e.$slots,"default")],4)])):c("",!0)}var j=v(de,[["render",ce]]);const pe=$({data(){return{state:o}},computed:{hostname(){var d;const e=(d=o.algonaut.config)==null?void 0:d.BASE_SERVER;if(e){var s=se(oe(e));return s.type==="RESERVED"?s.hostname:s.domain}return""}}}),D=e=>(L("data-v-ef5cb6ee"),e=e(),N(),e),ue={key:0,class:"status"},he=D(()=>t("span",{class:"circle"},null,-1)),ge={class:"status-text"},_e={class:"ledger green"},fe={class:"server muted"},me={key:1,class:"status disconnected"},Ae=D(()=>t("span",{class:"status-text"},"Set Up Node",-1)),ye=[Ae],$e={key:2,class:"status connecting"};function ve(e,s,d,h,u,g){var l;return a(),n(y,null,[e.state.connected?(a(),n("span",ue,[he,t("span",ge,[t("span",_e,p(((l=e.state.algonaut.config)==null?void 0:l.LEDGER)||""),1),t("span",fe,p(e.hostname),1)])])):c("",!0),!e.state.connected&&!e.state.connecting?(a(),n("span",me,ye)):c("",!0),e.state.connecting?(a(),n("span",$e," Connecting... ")):c("",!0)],64)}var be=v(pe,[["render",ve],["__scopeId","data-v-ef5cb6ee"]]);const we=$({components:{Modal:j,Status:be},data(){return{showSetup:!1,state:o,config:{useCustomNode:!1,apiKey:"",ledger:"TestNet",port:"",server:""}}},mounted(){this.fetchCachedConfig()},methods:{applySettings(){o.init(this.config),this.showSetup=!1},clearSettings(){this.config={useCustomNode:!1,apiKey:"",ledger:"TestNet",port:"",server:""},localStorage.removeItem("config"),o.log("Settings cleared")},fetchCachedConfig(){console.log("getting config from cache...");const e=JSON.parse(localStorage.getItem("config")||"");e&&(this.config=e,o.log("Fetched settings from local storage."),this.applySettings())}}}),E=e=>(L("data-v-18920c28"),e=e(),N(),e),ke=E(()=>t("h3",{class:"modal-title"},"Node Configuration",-1)),Ce={class:"module-content"},Se={class:"form-field"},Ie=E(()=>t("p",{class:"form-label"},"Ledger",-1)),Le=f(" TestNet "),Ne=f(" MainNet "),Ve={class:"form-field"},Ee=E(()=>t("p",{class:"form-label"},"Node",-1)),Te=f(" PureStake Node "),Oe=f(" Custom Node "),je={class:"server-config"},Fe=E(()=>t("label",{for:"apiKey"},"API Key",-1)),Me=E(()=>t("label",{for:"server"},"Server",-1)),Ue=E(()=>t("label",{for:"port"},"Port",-1)),Be={class:"actions align-right"};function Ke(e,s,d,h,u,g){const l=A("Status"),i=A("Modal");return a(),n(y,null,[t("button",{onClick:s[0]||(s[0]=r=>e.showSetup=!0),class:"btn-gray"},[_(l)]),_(i,{id:"setup-modal",show:e.showSetup,onClose:s[11]||(s[11]=r=>e.showSetup=!1)},{default:w(()=>[ke,t("form",{onSubmit:s[10]||(s[10]=S((...r)=>e.applySettings&&e.applySettings(...r),["stop","prevent"]))},[t("div",Ce,[t("div",Se,[Ie,m(t("input",{type:"radio",name:"ledger",id:"ledger-testnet",value:"TestNet","onUpdate:modelValue":s[1]||(s[1]=r=>e.config.ledger=r)},null,512),[[O,e.config.ledger]]),Le,m(t("input",{type:"radio",name:"ledger",id:"ledger-mainnet",value:"MainNet","onUpdate:modelValue":s[2]||(s[2]=r=>e.config.ledger=r)},null,512),[[O,e.config.ledger]]),Ne]),t("div",Ve,[Ee,m(t("input",{type:"radio",name:"node",id:"node-purestake",value:!1,"onUpdate:modelValue":s[3]||(s[3]=r=>e.config.useCustomNode=r)},null,512),[[O,e.config.useCustomNode]]),Te,m(t("input",{type:"radio",name:"node",id:"node-custom",value:!0,"onUpdate:modelValue":s[4]||(s[4]=r=>e.config.useCustomNode=r)},null,512),[[O,e.config.useCustomNode]]),Oe]),t("div",je,[t("p",null,[Fe,m(t("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=r=>e.config.apiKey=r),id:"apiKey",name:"apiKey"},null,512),[[k,e.config.apiKey]])]),m(t("p",null,[Me,m(t("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=r=>e.config.server=r),id:"server",name:"server"},null,512),[[k,e.config.server]])],512),[[R,e.config.useCustomNode]]),m(t("p",null,[Ue,m(t("input",{type:"text","onUpdate:modelValue":s[7]||(s[7]=r=>e.config.port=r),id:"port",name:"port"},null,512),[[k,e.config.port]])],512),[[R,e.config.useCustomNode]])]),t("div",Be,[t("button",{class:"btn-secondary",type:"button",onClick:s[8]||(s[8]=S((...r)=>e.clearSettings&&e.clearSettings(...r),["stop","prevent"]))}," Clear Saved Settings "),t("button",{class:"btn-main",type:"submit",onClick:s[9]||(s[9]=S((...r)=>e.applySettings&&e.applySettings(...r),["stop","prevent"]))}," Apply Settings ")])])],32)]),_:1},8,["show"])],64)}var Re=v(we,[["render",Ke],["__scopeId","data-v-18920c28"]]);const Pe=$({data(){return{state:o}}}),De={class:"terminal"};function qe(e,s,d,h,u,g){return a(),n("div",De,[(a(!0),n(y,null,V(e.state.terminal,l=>(a(),n("p",{key:l.message,class:P("line "+l.type)},p(l.message),3))),128))])}var Ge=v(Pe,[["render",qe],["__scopeId","data-v-377af0de"]]);const We=$({props:{type:String,address:String},computed:{link:function(){let e="https://testnet.algoexplorer.io/";return o.algonaut.config.LEDGER==="MainNet"&&(e="https://mainnet.algoexplorer.io/"),e+this.type+"/"+this.address}}}),ze=["href"];function Je(e,s,d,h,u,g){return a(),n("a",{href:e.link,target:"_blank"},[F(e.$slots,"default",{},void 0,!0)],8,ze)}var Xe=v(We,[["render",Je],["__scopeId","data-v-1c8d47d1"]]);const Ye=$({components:{AlgoLink:Xe},data(){return{address:"",loading:!1,acct:null,state:o}},methods:{async getInfo(){this.loading=!0,o.log("Getting account info...");try{this.acct=await o.algonaut.getAccountInfo(this.address),console.log(this.acct),o.success("Account fetched: "+this.acct.address)}catch(e){console.log(e),o.error("Error getting account info.")}}}}),b=e=>(L("data-v-34785f7d"),e=e(),N(),e),He={class:"module accounts"},Qe=b(()=>t("h2",null,"Account Information",-1)),Ze={class:"form-field account-info"},xe=b(()=>t("button",{type:"submit"},"Get Info",-1)),et={key:0,class:"module-content"},tt=f("View account on AlgoExplorer"),st={key:0},ot=b(()=>t("td",null,"Balance",-1)),nt={key:1},at=b(()=>t("td",null,"Rewards",-1)),lt={key:2},rt=b(()=>t("td",null,"Pending Rewards",-1)),dt={key:3},it=b(()=>t("td",null,"Assets",-1)),ct={key:4},pt=b(()=>t("td",null,"Created Apps",-1)),ut={key:5},ht=b(()=>t("td",null,"Created Assets",-1)),gt={key:0,class:"owned-assets"},_t={class:"form-label"},ft=b(()=>t("tr",null,[t("th",null,"Index"),t("th",null,"Amount"),t("th"),t("th")],-1)),mt=b(()=>t("td",null,"Load ASA",-1)),At=f("AlgoExplorer"),yt={key:1,class:"owned-apps"},$t={class:"form-label"},vt=b(()=>t("td",null,"Load Contract",-1)),bt=f("AlgoExplorer"),wt={key:2,class:"created-assets"},kt={class:"form-label"},Ct=b(()=>t("td",null,"Load ASA",-1)),St=f("AlgoExplorer");function It(e,s,d,h,u,g){const l=A("AlgoLink");return a(),n("section",He,[Qe,t("form",{onSubmit:s[1]||(s[1]=S(i=>e.getInfo(),["prevent"]))},[t("div",Ze,[m(t("input",{type:"text",id:"wallet",name:"wallet","onUpdate:modelValue":s[0]||(s[0]=i=>e.address=i),placeholder:"Paste address here"},null,512),[[k,e.address]]),xe])],32),e.acct?(a(),n("div",et,[_(l,{type:"address",address:e.acct.address},{default:w(()=>[tt]),_:1},8,["address"]),t("table",null,[e.acct?(a(),n("tr",st,[ot,t("td",null,p(e.acct.amount/1e6)+" ALGO",1)])):c("",!0),e.acct?(a(),n("tr",nt,[at,t("td",null,p(e.acct.rewards/1e6)+" ALGO",1)])):c("",!0),e.acct&&e.acct["pending-rewards"]?(a(),n("tr",lt,[rt,t("td",null,p(e.acct["pending-rewards"]/1e6)+" ALGO",1)])):c("",!0),e.acct&&e.acct.assets?(a(),n("tr",dt,[it,t("td",null,p(e.acct.assets.length),1)])):c("",!0),e.acct&&e.acct["created-apps"]?(a(),n("tr",ct,[pt,t("td",null,p(e.acct["created-apps"].length),1)])):c("",!0),e.acct&&e.acct["created-assets"]?(a(),n("tr",ut,[ht,t("td",null,p(e.acct["created-assets"].length),1)])):c("",!0)]),e.acct&&e.acct.assets&&e.acct.assets.length?(a(),n("div",gt,[t("h4",_t,"Assets ("+p(e.acct.assets.length)+")",1),t("table",null,[ft,(a(!0),n(y,null,V(e.acct.assets,i=>(a(),n("tr",{key:i["asset-id"],class:"asset-table"},[t("td",null,p(i["asset-id"]),1),t("td",null,p(i.amount),1),mt,t("td",null,[_(l,{type:"asset",address:i["asset-id"].toString()},{default:w(()=>[At]),_:2},1032,["address"])])]))),128))])])):c("",!0),e.acct&&e.acct["created-apps"]&&e.acct["created-apps"].length?(a(),n("div",yt,[t("h4",$t,"Created Apps ("+p(e.acct["created-apps"].length)+")",1),t("table",null,[(a(!0),n(y,null,V(e.acct["created-apps"],i=>(a(),n("tr",{key:i.id,class:"app-table"},[t("td",null,"App Index "+p(i.id),1),vt,t("td",null,[_(l,{type:"application",address:i.id.toString()},{default:w(()=>[bt]),_:2},1032,["address"])])]))),128))])])):c("",!0),e.acct&&e.acct["created-assets"]&&e.acct["created-assets"].length?(a(),n("div",wt,[t("h4",kt,"Created Assets ("+p(e.acct["created-assets"].length)+")",1),t("table",null,[(a(!0),n(y,null,V(e.acct["created-assets"],i=>(a(),n("tr",{key:i.id,class:"asset-table"},[t("td",null,"Asset Index "+p(i.id),1),Ct,t("td",null,[_(l,{type:"asset",address:i.id.toString()},{default:w(()=>[St]),_:2},1032,["address"])])]))),128))])])):c("",!0)])):c("",!0)])}var Lt=v(Ye,[["render",It],["__scopeId","data-v-34785f7d"]]);const Nt=$({components:{Modal:j},data(){return{state:o,response:null,query:"",searching:!1}},methods:{loadApp(e){o.loadApp(e)},async search(){var s;this.searching=!0,this.response=null;var e={};if(o.log('Searching: "'+this.query+'"...'),(s=o.algonaut.sdk)==null?void 0:s.isValidAddress(this.query))o.success("Account found."),e=await o.algonaut.getAccountInfo(this.query),this.searching=!1,this.response={type:"account",object:e};else if(parseInt(this.query))try{e=await o.algonaut.getAppInfo(parseInt(this.query)),o.success("App found."),this.searching=!1,this.response={type:"app",object:e}}catch{try{e=await o.algonaut.getAssetInfo(parseInt(this.query)),o.success("Asset found: "+e.params.name),this.searching=!1,this.response={type:"asset",object:e}}catch(h){console.error(h),this.searching=!1,this.response={type:"empty",message:"Nothing found."},o.error(this.response.message)}}else this.response={type:"empty",message:"Not a valid resource."},o.error(this.response.message),this.searching=!1}},computed:{globalState:function(){if(this.response&&this.response.object&&this.response.type==="app")return o.algonaut.stateArrayToObject(this.response.object.globals)}}}),T=e=>(L("data-v-c719d962"),e=e(),N(),e),Vt={class:"search"},Et=T(()=>t("button",{class:"btn-gray"},"Search",-1)),Tt={class:"browser"},Ot={key:0,class:"searching"},jt={key:1,class:"results"},Ft={key:0,class:"pink empty align-center"},Mt={key:1,class:"object"},Ut={key:0},Bt=f("Creator: "),Kt={class:"purple"},Rt={key:2,class:"app"},Pt=T(()=>t("h3",{class:"purple"},"Global State",-1)),Dt={key:0,class:"browser-table state-table"},qt=T(()=>t("tr",{class:"browser-table-heading"},[t("th",null,"Key"),t("th",null,"Value"),t("th",null,"Address")],-1)),Gt={class:"key"},Wt={key:1,class:"muted"},zt=T(()=>t("h3",{class:"purple"},"Local State",-1)),Jt={key:2,class:"browser-table state-table"},Xt=T(()=>t("tr",{class:"browser-table-heading"},[t("th",null,"Key"),t("th",null,"Value"),t("th",null,"Address")],-1)),Yt={class:"key"},Ht={key:3,class:"muted"},Qt={class:"response"};function Zt(e,s,d,h,u,g){return a(),n(y,null,[t("div",Vt,[t("form",{onSubmit:s[1]||(s[1]=S((...l)=>e.search&&e.search(...l),["prevent"])),class:"search-form"},[m(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>e.query=l),placeholder:"Account / App ID / Asset ID"},null,512),[[k,e.query]]),Et],32)]),t("div",Tt,[e.searching?(a(),n("div",Ot,"Searching...")):c("",!0),e.response?(a(),n("div",jt,[e.response.type==="empty"?(a(),n("p",Ft,p(e.response.message),1)):c("",!0),e.response.object?(a(),n("div",Mt,[t("h2",null,[f(p(e.response.type)+" ",1),t("span",{class:P(e.response.type==="account"?"purple":"green")},p(e.response.type==="account"?e.response.object.address.substring(0,20)+"...":e.response.object.index),3)]),e.response.object.creatorAddress?(a(),n("p",Ut,[Bt,t("span",Kt,p(e.response.object.creatorAddress),1)])):c("",!0),e.response.type==="app"?(a(),n("button",{key:1,onClick:s[2]||(s[2]=l=>e.loadApp(e.response.object.index))},"Load Contract")):c("",!0),e.response.type==="app"?(a(),n("div",Rt,[Pt,e.response.object.globals&&e.response.object.globals.length?(a(),n("table",Dt,[qt,(a(!0),n(y,null,V(e.response.object.globals,l=>(a(),n("tr",{key:l.key},[t("td",Gt,p(l.key),1),t("td",null,p(l.value),1),t("td",null,p(l.address),1)]))),128))])):c("",!0),!e.response.object.globals||!e.response.object.globals.length?(a(),n("p",Wt,"No global state schema.")):c("",!0),zt,e.response.object.locals&&e.response.object.locals.length?(a(),n("table",Jt,[Xt,(a(!0),n(y,null,V(e.response.object.locals,l=>(a(),n("tr",{key:l.key},[t("td",Yt,p(l.key),1),t("td",null,p(l.value),1),t("td",null,p(l.address),1)]))),128))])):c("",!0),!e.response.object.locals||!e.response.object.locals.length?(a(),n("p",Ht,"No local state schema.")):c("",!0)])):c("",!0)])):c("",!0),t("pre",Qt,p(e.response),1)])):c("",!0)])],64)}var xt=v(Nt,[["render",Zt],["__scopeId","data-v-c719d962"]]);const es=$({props:{modelValue:{type:Array,default:()=>[]},placeholder:String},data(){return{fieldArray:[{value:""}],newField:{value:""}}},mounted(){},watch:{field:{immediate:!0,handler(e){this.fieldArray=e}}},methods:{addField(e){console.log("addField",e),this.modelValue.push(K({},e)),this.newField.value=""},removeField(e){console.log("removeField",e),this.modelValue.splice(e,1)}}}),ts=e=>(L("data-v-52e4877a"),e=e(),N(),e),ss=["onUpdate:modelValue","placeholder"],os=["onClick"],ns={class:"add-new-field"},as=ts(()=>t("span",{class:"muted small"},"Add new: ",-1)),ls=["placeholder"];function rs(e,s,d,h,u,g){return a(),n(y,null,[(a(!0),n(y,null,V(e.modelValue,(l,i)=>(a(),n("div",{class:"field",xxkey:"field.value.toString()",key:i},[m(t("input",{type:"text","onUpdate:modelValue":r=>l.value=r,placeholder:e.placeholder,nothingenter:"updateField(index, field)",ref_for:!0,ref:i===e.modelValue.length-1?"lastItem":""},null,8,ss),[[k,l.value]]),t("button",{style:{position:"absolute",top:"0",right:"0"},class:"btn-link",onClick:S(r=>e.removeField(i),["stop"])},"X",8,os)]))),128)),t("div",ns,[as,m(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>e.newField.value=l),placeholder:e.placeholder,onKeyup:s[1]||(s[1]=ne(S(l=>e.addField(e.newField),["stop"]),["enter"])),ref:"lastItem-2"},null,40,ls),[[k,e.newField.value]])])],64)}var ds=v(es,[["render",rs],["__scopeId","data-v-52e4877a"]]);const M=async function(e){if(o.signingMode==="sk")return await o.algonaut.sendAtomicTransaction(e);{const s=await o.algonaut.createWalletConnectTransactions(e);return await o.algonaut.sendWalletConnectTxns(s)}},is=$({props:{loading:Boolean}}),cs=["disabled"],ps={key:1};function us(e,s,d,h,u,g){return a(),n("button",{disabled:e.loading},[e.loading?c("",!0):F(e.$slots,"default",{key:0}),e.loading?(a(),n("span",ps,"Loading...")):c("",!0)],8,cs)}var hs=v(is,[["render",us]]);const gs=$({data(){return{state:o,callAppArgs:{operationType:"callApp",methodName:"",appArgs:[],accounts:[],applications:[],assets:[]},fundAppAmt:null,optInArgs:[],fundAppLoading:!1,callAppLoading:!1,closeOutLoading:!1,optInAppLoading:!1,deleteAppLoading:!1}},computed:{app:function(){if(o.currentApp&&o.currentApp.index)return o.currentApp},escrowAddress:function(){if(o.currentApp&&o.currentApp.index)return o.algonaut.getAppEscrowAccount(o.currentApp.index)}},methods:{async callApp(){this.callAppLoading=!0;const e=this.callAppArgs.operationType==="callApp"?[this.callAppArgs.methodName].concat(this.callAppArgs.appArgs):this.callAppArgs.appArgs,s={accounts:this.callAppArgs.accounts,applications:this.callAppArgs.applications,assets:this.callAppArgs.assets};let d;this.callAppArgs.operationType==="callApp"?d=await o.algonaut.atomicCallApp(o.currentApp.index,e,s):this.callAppArgs.operationType==="optInApp"?d=await o.algonaut.atomicOptInApp(o.currentApp.index,e,s):this.callAppArgs.operationType==="closeOutApp",o.log(`Calling app with args: ${JSON.stringify(this.callAppArgs)}`);try{const h=await M([d]);h.status==="fail"?o.error(h.message):o.log(h.message)}catch(h){console.log(h),o.error("Transaction error.")}this.callAppLoading=!1},async fundApp(){if(!this.escrowAddress||!this.fundAppAmt)return!1;this.fundAppLoading=!0,console.log(this.fundAppAmt),o.log(`Sending ${this.fundAppAmt} to ${this.escrowAddress}`);try{const e=await M([await o.algonaut.atomicPayment(this.escrowAddress,this.fundAppAmt)]);e.status==="fail"?o.error(e.message):(o.log(e.message),this.fundAppAmt=null,o.success("Application funded"))}catch(e){console.log(e),o.error("Error funding app.")}this.fundAppLoading=!1},async closeOut(){this.closeOutLoading=!0,this.closeOutLoading=!1},async deleteApp(){if(window.confirm("Are you sure you want to delete this application? You may only do so if you are the creator.")){this.deleteAppLoading=!0;try{const e=await M([await o.algonaut.atomicDeleteApplication(o.currentApp.index)]);o.log(e.message)}catch(e){console.log(e),o.error("Error deleting application. Most likely, you do not have permission to delete it.")}}this.deleteAppLoading=!1}},components:{ArrayField:ds,LoadingButton:hs}}),C=e=>(L("data-v-71f1610d"),e=e(),N(),e),_s={key:0,class:"contract-tool"},fs={class:"contract-header"},ms={class:"contract-info"},As=f("App "),ys={class:"green"},$s={class:"metadata"},vs={class:"creator"},bs=C(()=>t("span",{class:"muted"},"Creator:",-1)),ws=f(),ks={class:"purple"},Cs={class:"contract-actions"},Ss=f("Delete App"),Is={class:"utilities"},Ls={class:"utility call-app"},Ns=C(()=>t("h3",null,"App Operations",-1)),Vs=f(" Transaction type: "),Es=C(()=>t("option",{value:"callApp"},"Call App",-1)),Ts=C(()=>t("option",{value:"optInApp"},"Opt-In App",-1)),Os=[Es,Ts],js={key:0},Fs=C(()=>t("p",{class:"small muted"},"(method name gets prepended to arguments array)",-1)),Ms=C(()=>t("h4",{class:"purple"},"Arguments",-1)),Us=C(()=>t("h4",{class:"purple"},"Accounts",-1)),Bs=C(()=>t("h4",{class:"purple"},"Foreign Applications",-1)),Ks=C(()=>t("h4",{class:"purple"},"Foreign Assets",-1)),Rs={class:"align-right"},Ps=f("Call App"),Ds={class:"utility fund-app"},qs=C(()=>t("h3",null,"Fund App",-1)),Gs={class:"small muted"},Ws=f("Escrow address: "),zs={class:"purple"},Js=["disabled"],Xs={class:"align-right"},Ys=f("Fund App");function Hs(e,s,d,h,u,g){const l=A("LoadingButton"),i=A("ArrayField");return e.app?(a(),n("div",_s,[t("div",fs,[t("div",ms,[t("h2",null,[As,t("span",ys,p(e.app.index),1)]),t("p",$s,[t("span",vs,[bs,ws,t("span",ks,p(e.app.creatorAddress.substring(0,10))+"...",1)])])]),t("div",Cs,[t("button",{onClick:s[0]||(s[0]=(...r)=>e.closeOut&&e.closeOut(...r))},"Close Out"),_(l,{onClick:e.deleteApp,class:"btn-danger",loading:e.deleteAppLoading},{default:w(()=>[Ss]),_:1},8,["onClick","loading"])])]),t("div",Is,[t("div",Ls,[Ns,t("div",null,[Vs,m(t("select",{name:"operationType",id:"operationType","onUpdate:modelValue":s[1]||(s[1]=r=>e.callAppArgs.operationType=r)},Os,512),[[ae,e.callAppArgs.operationType]]),e.callAppArgs.operationType==="callApp"?(a(),n("p",js,[m(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=r=>e.callAppArgs.methodName=r),placeholder:"Method name"},null,512),[[k,e.callAppArgs.methodName]])])):c("",!0),Fs,Ms,_(i,{modelValue:e.callAppArgs.appArgs,"onUpdate:modelValue":s[3]||(s[3]=r=>e.callAppArgs.appArgs=r),placeholder:"Add argument"},null,8,["modelValue"]),Us,_(i,{modelValue:e.callAppArgs.accounts,"onUpdate:modelValue":s[4]||(s[4]=r=>e.callAppArgs.accounts=r),placeholder:"Add account"},null,8,["modelValue"]),Bs,_(i,{modelValue:e.callAppArgs.applications,"onUpdate:modelValue":s[5]||(s[5]=r=>e.callAppArgs.applications=r),placeholder:"Add app ID"},null,8,["modelValue"]),Ks,_(i,{modelValue:e.callAppArgs.assets,"onUpdate:modelValue":s[6]||(s[6]=r=>e.callAppArgs.assets=r),placeholder:"Add app ID"},null,8,["modelValue"]),t("p",Rs,[_(l,{onClick:e.callApp,type:"submit",loading:e.callAppLoading},{default:w(()=>[Ps]),_:1},8,["onClick","loading"])])])]),t("div",Ds,[qs,t("form",{onSubmit:s[8]||(s[8]=S((...r)=>e.fundApp&&e.fundApp(...r),["prevent"]))},[t("p",Gs,[Ws,t("span",zs,p(e.escrowAddress),1)]),t("p",null,[m(t("input",{type:"number","onUpdate:modelValue":s[7]||(s[7]=r=>e.fundAppAmt=r),placeholder:"ALGO to send",disabled:e.fundAppLoading},null,8,Js),[[k,e.fundAppAmt]])]),t("p",Xs,[_(l,{type:"submit",loading:e.fundAppLoading},{default:w(()=>[Ys]),_:1},8,["loading"])])],32)])])])):c("",!0)}var Qs=v(gs,[["render",Hs],["__scopeId","data-v-71f1610d"]]);const Zs=$({components:{Modal:j},data(){return{state:o,showModal:!1,error:"",page:"options",recoveryPhrase:"",newAccount:{}}},methods:{createNew(){this.error="";const e=o.algonaut.createWallet();o.log("Created new account: "+e.address),this.newAccount=e,this.page="new-account"},recoverAccount(e){this.error="";const s=o.algonaut.recoverAccount(e);s?(console.log(s),o.algonaut.setAccount(s),o.activeAccount=s.addr,o.signingMode="sk",o.success("Connected to account: "+o.activeAccount),this.close()):this.error="Not a valid account."},close(){this.page="options",this.showModal=!1}}}),I=e=>(L("data-v-521a455b"),e=e(),N(),e),xs=I(()=>t("h3",{class:"modal-title"},"Connect Account",-1)),eo={class:"modal-content"},to={key:0,class:"account-options"},so={key:0},oo=I(()=>t("p",{class:"green"},"You are already connected to an account.",-1)),no=I(()=>t("p",{class:"muted"},"You can connect with a different account by choosing an option below.",-1)),ao=[oo,no],lo=I(()=>t("p",{class:"align-center"},"Choose your fighter:",-1)),ro=I(()=>t("button",{disabled:""},"Connect to Algorand Wallet",-1)),io={key:1,class:"recover-account"},co=I(()=>t("button",{type:"submit"},"Connect",-1)),po={key:2,class:"new-account"},uo=I(()=>t("p",{class:"green"},"Account created:",-1)),ho={class:"purple"},go={class:"mnemonic"},_o=I(()=>t("p",null,"Write down this mnemonic if you intend to use this account for more than temporary tests.",-1)),fo=I(()=>t("p",null,[f("If you are on TestNet, you can "),t("a",{href:"https://bank.testnet.algorand.network/",target:"_blank"},"fund this account with ALGO at the dispenser"),f(".")],-1)),mo={class:"align-center"},Ao={key:0,class:"pink"};function yo(e,s,d,h,u,g){const l=A("Modal");return a(),n(y,null,[t("button",{class:"btn-purple",onClick:s[0]||(s[0]=i=>e.showModal=!0)},p(e.state.activeAccount||"Connect Account"),1),_(l,{show:e.showModal,onClose:e.close},{default:w(()=>[xs,t("div",eo,[e.page==="options"?(a(),n("div",to,[e.state.activeAccount?(a(),n("div",so,ao)):c("",!0),lo,ro,t("button",{onClick:s[1]||(s[1]=i=>e.page="recover")},"Recover from mnemonic"),t("button",{onClick:s[2]||(s[2]=(...i)=>e.createNew&&e.createNew(...i))},"Create new account")])):c("",!0),e.page==="recover"?(a(),n("div",io,[t("p",null,[t("a",{class:"modal-back small",onClick:s[3]||(s[3]=i=>e.page="options")},"\u2190 back")]),t("form",{onSubmit:s[5]||(s[5]=S(i=>e.recoverAccount(e.recoveryPhrase),["prevent"]))},[m(t("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=i=>e.recoveryPhrase=i),placeholder:"Type mnemonic here to recover account."},null,512),[[k,e.recoveryPhrase]]),co],32)])):c("",!0),e.page==="new-account"?(a(),n("div",po,[uo,t("p",ho,p(e.newAccount.address),1),t("p",go,p(e.newAccount.mnemonic),1),_o,fo,t("p",mo,[t("button",{onClick:s[6]||(s[6]=i=>e.recoverAccount(e.newAccount.mnemonic)),class:"btn-purple"},"Use Irulan with this account")])])):c("",!0)]),e.error?(a(),n("p",Ao,p(e.error),1)):c("",!0)]),_:1},8,["show","onClose"])],64)}var $o=v(Zs,[["render",yo],["__scopeId","data-v-521a455b"]]);const vo=$({components:{Setup:Re,Log:Ge,Accounts:Lt,Account:$o,Modal:j,Browser:xt,ContractTool:Qs},setup(){},mounted(){o.log("The real universe is always one step beyond logic.")},data(){return{showAbout:!1,currentApp:NaN}},methods:{}}),bo={class:"header"},wo={class:"header-left"},ko=t("h1",null,"Irulan",-1),Co=t("h3",{class:"modal-title"},"About Irulan",-1),So=t("div",{class:"modal-content"},[t("p",null,[f("Irulan is a general purpose utility to interact with Algorand contracts, powered by "),t("a",{href:"https://thencc.github.io/algonautjs/",target:"_blank"},"Algonaut.js"),f(".")])],-1),Io={class:"header-right"},Lo={class:"container"},No={class:"left-col"},Vo={class:"right-col"},Eo={class:"footer-actions"};function To(e,s,d,h,u,g){const l=A("Modal"),i=A("Account"),r=A("Setup"),q=A("Browser"),G=A("Log"),W=A("ContractTool"),z=A("NewContract"),J=A("NewAsset");return a(),n(y,null,[t("header",bo,[t("div",wo,[ko,t("button",{class:"about-link btn-link-muted",onClick:s[0]||(s[0]=X=>e.showAbout=!0)},"What is this?"),_(l,{show:e.showAbout,onClose:s[1]||(s[1]=X=>e.showAbout=!1)},{default:w(()=>[Co,So]),_:1},8,["show"])]),t("div",Io,[_(i),_(r)])]),t("main",Lo,[t("div",No,[_(q),_(G)]),t("div",Vo,[_(W),t("div",Eo,[_(z),_(J)])])])],64)}var Oo=v(vo,[["render",To]]);le(Oo).mount("#app");
